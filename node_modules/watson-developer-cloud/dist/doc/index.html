<!doctype html>
<html class="default no-js">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>watson-developer-cloud</title>
	<meta name="description" content="">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
<header>
	<div class="tsd-page-toolbar">
		<div class="container">
			<div class="table-wrap">
				<div class="table-cell" id="tsd-search" data-index="assets/js/search.js" data-base=".">
					<div class="field">
						<label for="tsd-search-field" class="tsd-widget search no-caption">Search</label>
						<input id="tsd-search-field" type="text" />
					</div>
					<ul class="results">
						<li class="state loading">Preparing search index...</li>
						<li class="state failure">The search index is not available</li>
					</ul>
					<a href="index.html" class="title">watson-developer-cloud</a>
				</div>
				<div class="table-cell" id="tsd-widgets">
					<div id="tsd-filter">
						<a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a>
						<div class="tsd-filter-group">
							<div class="tsd-select" id="tsd-filter-visibility">
								<span class="tsd-select-label">All</span>
								<ul class="tsd-select-list">
									<li data-value="public">Public</li>
									<li data-value="protected">Public/Protected</li>
									<li data-value="private" class="selected">All</li>
								</ul>
							</div>
							<input type="checkbox" id="tsd-filter-inherited" checked />
							<label class="tsd-widget" for="tsd-filter-inherited">Inherited</label>
							<input type="checkbox" id="tsd-filter-only-exported" />
							<label class="tsd-widget" for="tsd-filter-only-exported">Only exported</label>
						</div>
					</div>
					<a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a>
				</div>
			</div>
		</div>
	</div>
	<div class="tsd-page-title">
		<div class="container">
			<ul class="tsd-breadcrumb">
				<li>
					<a href="globals.html">Globals</a>
				</li>
			</ul>
			<h1> watson-developer-cloud</h1>
		</div>
	</div>
</header>
<div class="container container-main">
	<div class="row">
		<div class="col-8 col-content">
			<div class="tsd-panel tsd-typography">
				<h1 id="watson-apis-node-js-sdk">Watson APIs Node.js SDK</h1>
				<p><a href="http://travis-ci.org/watson-developer-cloud/node-sdk"><img src="https://secure.travis-ci.org/watson-developer-cloud/node-sdk.svg" alt="Build Status"></a>
					<a href="https://wdc-slack-inviter.mybluemix.net"><img src="https://wdc-slack-inviter.mybluemix.net/badge.svg" alt="Slack"></a>
					<a href="https://www.npmjs.com/package/watson-developer-cloud"><img src="https://img.shields.io/npm/v/watson-developer-cloud.svg" alt="npm-version"></a>
				<a href="https://www.npmjs.com/package/watson-developer-cloud"><img src="https://img.shields.io/npm/dm/watson-developer-cloud.svg" alt="npm-downloads"></a></p>
				<p>Node.js client library to use the Watson APIs.</p>
				<details>
					<summary>Table of Contents</summary>
					<em> <a href="#installation">Installation</a>
					</em> <a href="#getting-the-service-credentials">Getting the Service Credentials</a>
					<em> <a href="#usage">Usage</a>
					</em> <a href="#client-side-usage">Client-side usage</a>
					<em> <a href="#sending-request-headers">Sending Request Headers</a>
					</em> <a href="#parsing-http-response">Parsing HTTP Response</a>
					<em> <a href="#data-collection-opt-out">Data collection opt-out</a>
					</em> <a href="#questions">Questions</a>
					<em> <a href="#examples">Examples</a>
					</em> <a href="#ibm-watson-services">IBM Watson Services</a>
					<em> <a href="#authorization">Authorization</a>
					</em> <a href="https://www.ibm.com/watson/services/conversation/">Assistant</a>
					<em> <a href="#discovery">Discovery</a>
					</em> <a href="#language-translator">Language Translator</a>
					<em> <a href="#natural-language-classifier">Natural Language Classifier</a>
					</em> <a href="#natural-language-understanding">Natural Language Understanding</a>
					<em> <a href="#personality-insights">Personality Insights</a>
					</em> <a href="#speech-to-text">Speech to Text</a>
					<em> <a href="#text-to-speech">Text to Speech</a>
					</em> <a href="#tone-analyzer">Tone Analyzer</a>
					<em> <a href="#visual-recognition">Visual Recognition</a>
					</em> <a href="#composing-services">Composing Services</a>
					<em> <a href="#debug">Debug</a>
					</em> <a href="#tests">Tests</a>
					<em> <a href="#license">License</a>
					</em> <a href="#contributing">Contributing</a>
				</details>
				<h2 id="installation">Installation</h2>
				<pre><code class="lang-sh">npm install watson-developer-cloud
</code></pre>
				<h2 id="getting-the-service-credentials">Getting the service credentials</h2>
				<p>You will need the <code>username</code>, <code>password</code>, and <code>url</code> (<code>api_key</code> for Visual Recognition) for each service. Service credentials are different from your IBM Cloud account username and password.</p>
				<p>To get your service credentials, follow these steps:</p>
				<ol>
					<li>Log in to IBM Cloud at <a href="https://console.bluemix.net/catalog/?category=watson">https://console.bluemix.net/catalog/?category=watson</a>.</li>
					<li>In the IBM Cloud <strong>Catalog</strong>, select the service you want to use.</li>
					<li>Type a unique name for the service instance in the <strong>Service name</strong> field. For example, type <code>my-service-name</code>. Leave the default values for the other options.</li>
					<li>Click <strong>Create</strong>.</li>
					<li>From the service dashboard, click <strong>Service credentials</strong>.</li>
					<li>Click <strong>View credentials</strong> under <strong>Actions</strong>.</li>
					<li>Copy <code>username</code>, <code>password</code> (or <code>api_key</code> for Visual Recognition), and <code>url</code>.</li>
				</ol>
				<h2 id="usage">Usage</h2>
				<p>The examples below assume that you already have service credentials. If not,
				you will have to create a service in <a href="https://console.bluemix.net">IBM Cloud</a>.</p>
				<p>If you are running your application in IBM Cloud, you don&#39;t need to specify the
				credentials; the library will get them for you by looking at the <code>VCAP_SERVICES</code> environment variable.</p>
				<p>Credentials are checked for in the following order:</p>
				<ol>
					<li><p>Hard-coded or programatic credentials passed to the service constructor</p>
					</li>
					<li><p><code>SERVICE_NAME_USERNAME</code> and <code>SERVICE_NAME_PASSWORD</code> environment properties (or <code>SERVICE_NAME_API_KEY</code> when appropriate) and, optionally, <code>SERVICE_NAME_URL</code></p>
					</li>
					<li><p>IBM-Cloud-supplied credentials (via the <code>VCAP_SERVICES</code> JSON-encoded environment property)</p>
					</li>
				</ol>
				<h3 id="client-side-usage">Client-side usage</h3>
				<p>See the <code>examples/</code> folder for <a href="http://browserify.org/">Browserify</a> and <a href="http://webpack.github.io/">Webpack</a> client-side SDK examples (with server-side generation of auth tokens.)</p>
				<p>Note: not all services currently support CORS, and therefore not all services can be used client-side.
				Of those that do, most require an auth token to be generated server-side via the <a href="#authorization">Authorization Service</a>.</p>
				<h3 id="sending-request-headers">Sending Request Headers</h3>
				<p>Custom headers can be passed with any request. Each method has an optional parameter <code>headers</code> which can be used to pass in these custom headers, which can override headers that we use as parameters.</p>
				<p>For example, this is how you can pass in custom headers to Watson Assistant service. In this example, the <code>&#39;custom&#39;</code> value for <code>&#39;Accept-Language&#39;</code> will override the default header for <code>&#39;Accept-Language&#39;</code>, and the <code>&#39;Custom-Header&#39;</code> while not overriding the default headers, will additionally be sent with the request.</p>
				<pre><code class="lang-js"><span class="hljs-keyword">var</span> assistant = <span class="hljs-keyword">new</span> watson.AssistantV1({
<span class="hljs-comment">/* username, password, version, url, etc... */</span>
});

assistant.message({
  <span class="hljs-attr">workspace_id</span>: <span class="hljs-string">'something'</span>,
  <span class="hljs-attr">input</span>: {<span class="hljs-string">'text'</span>: <span class="hljs-string">'Hello'</span>},
  <span class="hljs-attr">headers</span>: {
    <span class="hljs-string">'Custom-Header'</span>: <span class="hljs-string">'custom'</span>,
    <span class="hljs-string">'Accept-Language'</span>: <span class="hljs-string">'custom'</span>

  }
},  <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, result, response</span>) </span>{
  <span class="hljs-keyword">if</span> (err)
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'error:'</span>, err);
  <span class="hljs-keyword">else</span>
    <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">JSON</span>.stringify(result, <span class="hljs-literal">null</span>, <span class="hljs-number">2</span>));
});
</code></pre>
				<h3 id="parsing-http-response">Parsing HTTP Response</h3>
				<p>To retrieve the HTTP response, all methods can be called with a callback function with three parameters, with the third being the response. Users for example may retrieve the response headers with this usage pattern.</p>
				<p>Here is an example of how to access the response headers for Watson Assistant:</p>
				<pre><code class="lang-js"><span class="hljs-keyword">var</span> assistant = <span class="hljs-keyword">new</span> watson.AssistantV1({
<span class="hljs-comment">/* username, password, version, url, etc... */</span>
});

assistant.message(params,  <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, result, response</span>) </span>{
  <span class="hljs-keyword">if</span> (err)
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'error:'</span>, err);
  <span class="hljs-keyword">else</span>
    <span class="hljs-built_in">console</span>.log(response.headers);
});
</code></pre>
				<h3 id="data-collection-opt-out">Data collection opt-out</h3>
				<p>By default, <a href="https://console.bluemix.net/docs/services/watson/getting-started-logging.html">all requests are logged</a>. This can be disabled of by setting the <code>X-Watson-Learning-Opt-Out</code> header when creating the service instance:</p>
				<pre><code class="lang-js"><span class="hljs-keyword">var</span> myInstance = <span class="hljs-keyword">new</span> watson.WhateverServiceV1({
  <span class="hljs-comment">/* username, password, version, url, etc... */</span>
  headers: {
    <span class="hljs-string">"X-Watson-Learning-Opt-Out"</span>: <span class="hljs-literal">true</span>
  }
});
</code></pre>
				<h2 id="documentation">Documentation</h2>
				<p>You can find links to the documentation at <a href="https://console.bluemix.net/developer/watson/documentation">https://console.bluemix.net/developer/watson/documentation</a>. Find the service that you&#39;re interested in, click <strong>API reference</strong>, and then select the <strong>Node</strong> tab.</p>
				<p>There are also auto-generated JSDocs available at <a href="http://watson-developer-cloud.github.io/node-sdk/master/">http://watson-developer-cloud.github.io/node-sdk/master/</a></p>
				<h2 id="questions">Questions</h2>
				<p>If you are having difficulties using the APIs or have a question about the Watson services, please ask a question at <a href="https://developer.ibm.com/answers/questions/ask/?topics=watson">dW Answers</a> or <a href="http://stackoverflow.com/questions/ask?tags=ibm-watson-cognitive">Stack Overflow</a>.</p>
				<h2 id="examples">Examples</h2>
				<p>The <a href="https://github.com/watson-developer-cloud/node-sdk/tree/master/examples">examples</a> folder has basic and advanced examples.</p>
				<h3 id="authorization">Authorization</h3>
				<p>The Authorization service can generate auth tokens for situations where providing the service username/password is undesirable.</p>
				<p>Tokens are valid for 1 hour and may be sent using the <code>X-Watson-Authorization-Token</code> header or the <code>watson-token</code> query param.</p>
				<p>Note that the token is supplied URL-encoded, and will not be accepted if it is double-encoded in a querystring.</p>
				<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> watson = <span class="hljs-built_in">require</span>(<span class="hljs-string">'watson-developer-cloud'</span>);

<span class="hljs-keyword">var</span> authorization = <span class="hljs-keyword">new</span> watson.AuthorizationV1({
  <span class="hljs-attr">username</span>: <span class="hljs-string">'&lt;Text to Speech username&gt;'</span>,
  <span class="hljs-attr">password</span>: <span class="hljs-string">'&lt;Text to Speech password&gt;'</span>,
  <span class="hljs-attr">url</span>: <span class="hljs-string">'https://stream.watsonplatform.net/authorization/api'</span>, <span class="hljs-comment">// Speech tokens</span>
});

authorization.getToken({
  <span class="hljs-attr">url</span>: <span class="hljs-string">'https://stream.watsonplatform.net/text-to-speech/api'</span>
},
<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, token</span>) </span>{
  <span class="hljs-keyword">if</span> (!token) {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'error:'</span>, err);
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">// Use your token here</span>
  }
});
</code></pre>
				<h3 id="assistant">Assistant</h3>
				<p>Use the <a href="https://www.ibm.com/watson/services/conversation/">Assistant</a> service to determine the intent of a message.</p>
				<p>Note: you must first create a workspace via Bluemix. See <a href="https://console.bluemix.net/docs/services/conversation/index.html#about">the documentation</a> for details.</p>
				<pre><code class="lang-js"><span class="hljs-keyword">var</span> AssistantV1 = <span class="hljs-built_in">require</span>(<span class="hljs-string">'watson-developer-cloud/assistant/v1'</span>);

<span class="hljs-keyword">var</span> assistant = <span class="hljs-keyword">new</span> AssistantV1({
  <span class="hljs-attr">username</span>: <span class="hljs-string">'&lt;username&gt;'</span>,
  <span class="hljs-attr">password</span>: <span class="hljs-string">'&lt;password&gt;'</span>,
  <span class="hljs-attr">url</span>: <span class="hljs-string">'https://gateway.watsonplatform.net/assistant/api/'</span>,
  <span class="hljs-attr">version</span>: <span class="hljs-string">'2018-02-16'</span>
});

assistant.message(
  {
    <span class="hljs-attr">input</span>: { <span class="hljs-attr">text</span>: <span class="hljs-string">"What's the weather?"</span> },
    <span class="hljs-attr">workspace_id</span>: <span class="hljs-string">'&lt;workspace id&gt;'</span>
  },
  <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, response</span>) </span>{
    <span class="hljs-keyword">if</span> (err) {
      <span class="hljs-built_in">console</span>.error(err);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">JSON</span>.stringify(response, <span class="hljs-literal">null</span>, <span class="hljs-number">2</span>));
    }
  }
);
</code></pre>
				<h3 id="conversation">Conversation</h3>
				<p>This service has been renamed to Assistant.</p>
				<h3 id="discovery">Discovery</h3>
				<p>Use the <a href="https://www.ibm.com/watson/services/discovery/">Discovery Service</a> to search and analyze structured and unstructured data.</p>
				<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> DiscoveryV1 = <span class="hljs-built_in">require</span>(<span class="hljs-string">'watson-developer-cloud/discovery/v1'</span>);

<span class="hljs-keyword">var</span> discovery = <span class="hljs-keyword">new</span> DiscoveryV1({
  <span class="hljs-attr">username</span>: <span class="hljs-string">'&lt;username&gt;'</span>,
  <span class="hljs-attr">password</span>: <span class="hljs-string">'&lt;password&gt;'</span>,
  <span class="hljs-attr">url</span>: <span class="hljs-string">'https://gateway.watsonplatform.net/discovery/api/'</span>,
  <span class="hljs-attr">version</span>: <span class="hljs-string">'2017-09-01'</span>
});

discovery.query(
  {
    <span class="hljs-attr">environment_id</span>: <span class="hljs-string">'&lt;environment_id&gt;'</span>,
    <span class="hljs-attr">collection_id</span>: <span class="hljs-string">'&lt;collection_id&gt;'</span>,
    <span class="hljs-attr">query</span>: <span class="hljs-string">'my_query'</span>
  },
  <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, response</span>) </span>{
    <span class="hljs-keyword">if</span> (err) {
      <span class="hljs-built_in">console</span>.error(err);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">JSON</span>.stringify(response, <span class="hljs-literal">null</span>, <span class="hljs-number">2</span>));
    }
  }
);
</code></pre>
				<h3 id="language-translator">Language Translator</h3>
				<p>Translate text from one language to another or idenfity a language using the <a href="https://www.ibm.com/watson/services/language-translator/">Language Translator</a> service.</p>
				<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> LanguageTranslatorV2 = <span class="hljs-built_in">require</span>(<span class="hljs-string">'watson-developer-cloud/language-translator/v2'</span>);

<span class="hljs-keyword">var</span> languageTranslator = <span class="hljs-keyword">new</span> LanguageTranslatorV2({
  <span class="hljs-attr">username</span>: <span class="hljs-string">'&lt;username&gt;'</span>,
  <span class="hljs-attr">password</span>: <span class="hljs-string">'&lt;password&gt;'</span>,
  <span class="hljs-attr">url</span>: <span class="hljs-string">'https://gateway.watsonplatform.net/language-translator/api/'</span>
});

languageTranslator.translate(
  {
    <span class="hljs-attr">text</span>: <span class="hljs-string">'A sentence must have a verb'</span>,
    <span class="hljs-attr">source</span>: <span class="hljs-string">'en'</span>,
    <span class="hljs-attr">target</span>: <span class="hljs-string">'es'</span>
  },
  <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, translation</span>) </span>{
    <span class="hljs-keyword">if</span> (err)  {
      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'error:'</span>, err);
    } <span class="hljs-keyword">else</span>  {
      <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">JSON</span>.stringify(translation, <span class="hljs-literal">null</span>, <span class="hljs-number">2</span>));
  }
);

languageTranslator.identify(
  {
    <span class="hljs-attr">text</span>:
      <span class="hljs-string">'The language translator service takes text input and identifies the language used.'</span>
  },
  <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, language</span>) </span>{
    <span class="hljs-keyword">if</span> (err)  {
      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'error:'</span>, err);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">JSON</span>.stringify(language, <span class="hljs-literal">null</span>, <span class="hljs-number">2</span>));
    }
  }
);
</code></pre>
				<h3 id="natural-language-classifier">Natural Language Classifier</h3>
				<p>Use <a href="https://console.bluemix.net/docs/services/natural-language-classifier/getting-started.html">Natural Language Classifier</a> service to create a classifier instance by providing a set of representative strings and a set of one or more correct classes for each as training. Then use the trained classifier to classify your new question for best matching answers or to retrieve next actions for your application.</p>
				<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> NaturalLanguageClassifierV1 = <span class="hljs-built_in">require</span>(<span class="hljs-string">'watson-developer-cloud/natural-language-classifier/v1'</span>);

<span class="hljs-keyword">var</span> classifier = <span class="hljs-keyword">new</span> NaturalLanguageClassifierV1({
  <span class="hljs-attr">username</span>: <span class="hljs-string">'&lt;username&gt;'</span>,
  <span class="hljs-attr">password</span>: <span class="hljs-string">'&lt;password&gt;'</span>,
  <span class="hljs-attr">url</span>: <span class="hljs-string">'https://gateway.watsonplatform.net/natural-language-classifier/api/'</span>
});

classifier.classify(
  {
    <span class="hljs-attr">text</span>: <span class="hljs-string">'Is it sunny?'</span>,
    <span class="hljs-attr">classifier_id</span>: <span class="hljs-string">'&lt;classifier-id&gt;'</span>
  },
  <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, response</span>) </span>{
    <span class="hljs-keyword">if</span> (err) {
      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'error:'</span>, err);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">JSON</span>.stringify(response, <span class="hljs-literal">null</span>, <span class="hljs-number">2</span>));
    }
  }
);
</code></pre>
				<p>See this <a href="https://github.com/watson-developer-cloud/node-sdk/blob/master/examples/natural_language_classifier.v1.js">example</a> to learn how to create a classifier.</p>
				<h3 id="natural-language-understanding">Natural Language Understanding</h3>
				<p>Use Natural Language Understanding is a collection of natural language processing APIs that help you understand sentiment,
				keywords, entities, high-level concepts and more.</p>
				<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>);
<span class="hljs-keyword">var</span> NaturalLanguageUnderstandingV1 = <span class="hljs-built_in">require</span>(<span class="hljs-string">'watson-developer-cloud/natural-language-understanding/v1.js'</span>);

<span class="hljs-keyword">var</span> nlu = <span class="hljs-keyword">new</span> NaturalLanguageUnderstandingV1({
  <span class="hljs-attr">username</span>: <span class="hljs-string">'&lt;username&gt;'</span>,
  <span class="hljs-attr">password</span>: <span class="hljs-string">'&lt;password&gt;'</span>,
  <span class="hljs-attr">version</span>: <span class="hljs-string">'2018-04-05'</span>,
  <span class="hljs-attr">url</span>: <span class="hljs-string">'https://gateway.watsonplatform.net/natural-language-understanding/api/'</span>
});

nlu.analyze(
  {
    <span class="hljs-attr">html</span>: file_data, <span class="hljs-comment">// Buffer or String</span>
    features: {
      <span class="hljs-attr">concepts</span>: {},
      <span class="hljs-attr">keywords</span>: {}
    }
  },
  <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, response</span>) </span>{
    <span class="hljs-keyword">if</span> (err) {
      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'error:'</span>, err);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">JSON</span>.stringify(response, <span class="hljs-literal">null</span>, <span class="hljs-number">2</span>));
    }
  }
);
</code></pre>
				<h3 id="personality-insights">Personality Insights</h3>
				<p>Analyze text in English and get a personality profile by using the
				<a href="https://www.ibm.com/watson/services/personality-insights/">Personality Insights</a> service.</p>
				<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> PersonalityInsightsV3 = <span class="hljs-built_in">require</span>(<span class="hljs-string">'watson-developer-cloud/personality-insights/v3'</span>);

<span class="hljs-keyword">var</span> personalityInsights = <span class="hljs-keyword">new</span> PersonalityInsightsV3({
  <span class="hljs-attr">username</span>: <span class="hljs-string">'&lt;username&gt;'</span>,
  <span class="hljs-attr">password</span>: <span class="hljs-string">'&lt;password&gt;'</span>,
  <span class="hljs-attr">version</span>: <span class="hljs-string">'2016-10-19'</span>,
  <span class="hljs-attr">url</span>: <span class="hljs-string">'https://gateway.watsonplatform.net/personality-insights/api/'</span>
});

personalityInsights.profile(
  {
    <span class="hljs-attr">content</span>: <span class="hljs-string">'Enter more than 100 unique words here...'</span>,
    <span class="hljs-attr">content_type</span>: <span class="hljs-string">'text/plain'</span>,
    <span class="hljs-attr">consumption_preferences</span>: <span class="hljs-literal">true</span>
  },
  <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, response</span>) </span>{
    <span class="hljs-keyword">if</span> (err) {
      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'error:'</span>, err);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">JSON</span>.stringify(response, <span class="hljs-literal">null</span>, <span class="hljs-number">2</span>));
    }
  }
);
</code></pre>
				<h3 id="speech-to-text">Speech to Text</h3>
				<p>Use the <a href="https://www.ibm.com/watson/services/speech-to-text/">Speech to Text</a> service to recognize the text from a <code>.wav</code> file.</p>
				<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> SpeechToTextV1 = <span class="hljs-built_in">require</span>(<span class="hljs-string">'watson-developer-cloud/speech-to-text/v1'</span>);
<span class="hljs-keyword">var</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>);

<span class="hljs-keyword">var</span> speechToText = <span class="hljs-keyword">new</span> SpeechToTextV1({
  <span class="hljs-attr">username</span>: <span class="hljs-string">'&lt;username&gt;'</span>,
  <span class="hljs-attr">password</span>: <span class="hljs-string">'&lt;password&gt;'</span>,
  <span class="hljs-attr">url</span>: <span class="hljs-string">'https://stream.watsonplatform.net/speech-to-text/api/'</span>
});

<span class="hljs-keyword">var</span> params = {
  <span class="hljs-comment">// From file</span>
  audio: fs.createReadStream(<span class="hljs-string">'./resources/speech.wav'</span>),
  <span class="hljs-attr">content_type</span>: <span class="hljs-string">'audio/l16; rate=44100'</span>
};

speechToText.recognize(params, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, res</span>) </span>{
  <span class="hljs-keyword">if</span> (err)
    <span class="hljs-built_in">console</span>.log(err);
  <span class="hljs-keyword">else</span>
    <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">JSON</span>.stringify(res, <span class="hljs-literal">null</span>, <span class="hljs-number">2</span>));
});

<span class="hljs-comment">// or streaming</span>
fs.createReadStream(<span class="hljs-string">'./resources/speech.wav'</span>)
  .pipe(speechToText.createRecognizeStream({ <span class="hljs-attr">content_type</span>: <span class="hljs-string">'audio/l16; rate=44100'</span> }))
  .pipe(fs.createWriteStream(<span class="hljs-string">'./transcription.txt'</span>));
</code></pre>
				<h3 id="text-to-speech">Text to Speech</h3>
				<p>Use the <a href="https://www.ibm.com/watson/services/text-to-speech/">Text to Speech</a> service to synthesize text into a .wav file.</p>
				<pre><code class="lang-js"><span class="hljs-keyword">var</span> TextToSpeechV1 = <span class="hljs-built_in">require</span>(<span class="hljs-string">'watson-developer-cloud/text-to-speech/v1'</span>);
<span class="hljs-keyword">var</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>);

<span class="hljs-keyword">var</span> textToSpeech = <span class="hljs-keyword">new</span> TextToSpeechV1({
  <span class="hljs-attr">username</span>: <span class="hljs-string">'&lt;username&gt;'</span>,
  <span class="hljs-attr">password</span>: <span class="hljs-string">'&lt;password&gt;'</span>,
  <span class="hljs-attr">url</span>: <span class="hljs-string">'https://stream.watsonplatform.net/text-to-speech/api/'</span>
});

<span class="hljs-keyword">var</span> params = {
  <span class="hljs-attr">text</span>: <span class="hljs-string">'Hello from IBM Watson'</span>,
  <span class="hljs-attr">voice</span>: <span class="hljs-string">'en-US_AllisonVoice'</span>, <span class="hljs-comment">// Optional voice</span>
  accept: <span class="hljs-string">'audio/wav'</span>
};

<span class="hljs-comment">// Synthesize speech, correct the wav header, then save to disk</span>
<span class="hljs-comment">// (wav header requires a file length, but this is unknown until after the header is already generated and sent)</span>
textToSpeech
  .synthesize(params, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, audio</span>) </span>{
    <span class="hljs-keyword">if</span> (err) {
      <span class="hljs-built_in">console</span>.log(err);
      <span class="hljs-keyword">return</span>;
    }
    textToSpeech.repairWavHeader(audio);
    fs.writeFileSync(<span class="hljs-string">'audio.wav'</span>, audio);
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'audio.wav written with a corrected wav header'</span>);
});
</code></pre>
				<h3 id="tone-analyzer">Tone Analyzer</h3>
				<p>Use the <a href="https://www.ibm.com/watson/services/tone-analyzer/">Tone Analyzer</a> service to analyze the
				emotion, writing and social tones of a text.</p>
				<pre><code class="lang-js"><span class="hljs-keyword">var</span> ToneAnalyzerV3 = <span class="hljs-built_in">require</span>(<span class="hljs-string">'watson-developer-cloud/tone-analyzer/v3'</span>);

<span class="hljs-keyword">var</span> toneAnalyzer = <span class="hljs-keyword">new</span> ToneAnalyzerV3({
  <span class="hljs-attr">username</span>: <span class="hljs-string">'&lt;username&gt;'</span>,
  <span class="hljs-attr">password</span>: <span class="hljs-string">'&lt;password&gt;'</span>,
  <span class="hljs-attr">version</span>: <span class="hljs-string">'2016-05-19'</span>,
  <span class="hljs-attr">url</span>: <span class="hljs-string">'https://gateway.watsonplatform.net/tone-analyzer/api/'</span>
});

toneAnalyzer.tone(
  {
    <span class="hljs-attr">tone_input</span>: <span class="hljs-string">'Greetings from Watson Developer Cloud!'</span>,
    <span class="hljs-attr">content_type</span>: <span class="hljs-string">'text/plain'</span>
  },
  <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, tone</span>) </span>{
    <span class="hljs-keyword">if</span> (err) {
      <span class="hljs-built_in">console</span>.log(err);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">JSON</span>.stringify(tone, <span class="hljs-literal">null</span>, <span class="hljs-number">2</span>));
    }
  }
);
</code></pre>
				<h3 id="visual-recognition">Visual Recognition</h3>
				<p>Use the <a href="https://www.ibm.com/watson/services/visual-recognition/">Visual Recognition</a> service to recognize the
				following picture.</p>
				<p><img src="https://visual-recognition-demo.ng.bluemix.net/images/samples/5.jpg" /></p>
				<pre><code class="lang-js"><span class="hljs-keyword">var</span> VisualRecognitionV3 = <span class="hljs-built_in">require</span>(<span class="hljs-string">'watson-developer-cloud/visual-recognition/v3'</span>);
<span class="hljs-keyword">var</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>);

<span class="hljs-keyword">var</span> visualRecognition = <span class="hljs-keyword">new</span> VisualRecognitionV3({
  <span class="hljs-attr">api_key</span>: <span class="hljs-string">'&lt;api_key&gt;'</span>,
  <span class="hljs-attr">version</span>: <span class="hljs-string">'2016-05-20'</span>
});

<span class="hljs-keyword">var</span> params = {
  <span class="hljs-attr">images_file</span>: fs.createReadStream(<span class="hljs-string">'./resources/car.png'</span>)
};

visualRecognition.classify(params, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err, res</span>) </span>{
  <span class="hljs-keyword">if</span> (err) {
    <span class="hljs-built_in">console</span>.log(err);
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-built_in">console</span>.log(<span class="hljs-built_in">JSON</span>.stringify(res, <span class="hljs-literal">null</span>, <span class="hljs-number">2</span>));
  }
});
</code></pre>
				<h2 id="composing-services">Composing services</h2>
				<h3 id="integration-of-tone-analyzer-with-conversation">Integration of Tone Analyzer with Conversation</h3>
				<p>Sample code for <a href="https://github.com/watson-developer-cloud/node-sdk/tree/master/examples/conversation_tone_analyzer_integration">integrating Tone Analyzer and Conversation</a> is provided in the <a href="https://github.com/watson-developer-cloud/node-sdk/tree/master/examples">examples directory</a>.</p>
				<h2 id="unauthenticated-requests">Unauthenticated requests</h2>
				<p>By default, the library tries to use Basic Auth and will ask for <code>api_key</code> or <code>username</code> and <code>password</code> and send an <code>Authorization: Basic XXXXXXX</code>. You can avoid this by using:</p>
				<p><code>use_unauthenticated</code>.</p>
				<pre><code class="lang-javascript"><span class="hljs-keyword">var</span> watson = <span class="hljs-built_in">require</span>(<span class="hljs-string">'watson-developer-cloud'</span>);

<span class="hljs-keyword">var</span> assistant = <span class="hljs-keyword">new</span> watson.AssistantV1({
  <span class="hljs-attr">use_unauthenticated</span>: <span class="hljs-literal">true</span>
});
</code></pre>
				<h2 id="debug">Debug</h2>
				<p>This library relies on the <code>request</code> npm module writted by
					<a href="https://github.com/request/request">request</a> to call the Watson Services. To debug the apps, add
				&#39;request&#39; to the <code>NODE_DEBUG</code> environment variable:</p>
				<pre><code class="lang-sh">$ NODE_DEBUG=<span class="hljs-string">'request'</span> node app.js
</code></pre>
				<p>where <code>app.js</code> is your Node.js file.</p>
				<h2 id="tests">Tests</h2>
				<p>Running all the tests:</p>
				<pre><code class="lang-sh">$ npm <span class="hljs-built_in">test</span>
</code></pre>
				<p>Running a specific test:</p>
				<pre><code class="lang-sh">$ mocha -g <span class="hljs-string">'&lt;test name&gt;'</span>
</code></pre>
				<h2 id="open-source-ibm">Open Source @ IBM</h2>
				<p><a href="http://ibm.github.io/">Find more open source projects on the IBM Github Page.</a></p>
				<h2 id="license">License</h2>
				<p>This library is licensed under Apache 2.0. Full license text is available in
				<a href="http://www.apache.org/licenses/LICENSE-2.0">COPYING</a>.</p>
				<h2 id="contributing">Contributing</h2>
				<p>See <a href="https://github.com/watson-developer-cloud/node-sdk/blob/master/.github/CONTRIBUTING.md">CONTRIBUTING</a>.</p>
			</div>
		</div>
		<div class="col-4 col-menu menu-sticky-wrap menu-highlight">
			<nav class="tsd-navigation primary">
				<ul>
					<li class="globals  ">
						<a href="globals.html"><em>Globals</em></a>
					</li>
				</ul>
			</nav>
			<nav class="tsd-navigation secondary menu-sticky">
				<ul class="before-current">
					<li class=" tsd-kind-class">
						<a href="classes/authorizationv1.html" class="tsd-kind-icon">Authorization<wbr>V1</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/conversationv1.html" class="tsd-kind-icon">Conversation<wbr>V1</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/dialogv1.html" class="tsd-kind-icon">Dialog<wbr>V1</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/discoveryv1.html" class="tsd-kind-icon">Discovery<wbr>V1</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/languagetranslatorv2.html" class="tsd-kind-icon">Language<wbr>Translator<wbr>V2</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/naturallanguageclassifierv1.html" class="tsd-kind-icon">Natural<wbr>Language<wbr>Classifier<wbr>V1</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/naturallanguageunderstandingv1.html" class="tsd-kind-icon">Natural<wbr>Language<wbr>Understanding<wbr>V1</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/personalityinsightsv2.html" class="tsd-kind-icon">Personality<wbr>Insights<wbr>V2</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/personalityinsightsv3.html" class="tsd-kind-icon">Personality<wbr>Insights<wbr>V3</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/recognizestream.html" class="tsd-kind-icon">Recognize<wbr>Stream</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/speechtotextv1.html" class="tsd-kind-icon">Speech<wbr>ToText<wbr>V1</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/texttospeechv1.html" class="tsd-kind-icon">Text<wbr>ToSpeech<wbr>V1</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/toneanalyzerv3.html" class="tsd-kind-icon">Tone<wbr>Analyzer<wbr>V3</a>
					</li>
					<li class=" tsd-kind-class">
						<a href="classes/visualrecognitionv3.html" class="tsd-kind-icon">Visual<wbr>Recognition<wbr>V3</a>
					</li>
					<li class=" tsd-kind-variable tsd-is-not-exported">
						<a href="globals.html#opening_message_params_allowed" class="tsd-kind-icon">OPENING_<wbr>MESSAGE_<wbr>PARAMS_<wbr>ALLOWED</a>
					</li>
					<li class=" tsd-kind-variable tsd-is-not-exported">
						<a href="globals.html#query_params_allowed" class="tsd-kind-icon">QUERY_<wbr>PARAMS_<wbr>ALLOWED</a>
					</li>
					<li class=" tsd-kind-variable tsd-is-not-exported">
						<a href="globals.html#w3cwebsocket" class="tsd-kind-icon">w3c<wbr>Web<wbr>Socket</a>
					</li>
				</ul>
			</nav>
		</div>
	</div>
</div>
<footer class="with-border-bottom">
	<div class="container">
		<h2>Legend</h2>
		<div class="tsd-legend-group">
			<ul class="tsd-legend">
				<li class="tsd-kind-module"><span class="tsd-kind-icon">Module</span></li>
				<li class="tsd-kind-object-literal"><span class="tsd-kind-icon">Object literal</span></li>
				<li class="tsd-kind-variable"><span class="tsd-kind-icon">Variable</span></li>
				<li class="tsd-kind-function"><span class="tsd-kind-icon">Function</span></li>
				<li class="tsd-kind-function tsd-has-type-parameter"><span class="tsd-kind-icon">Function with type parameter</span></li>
				<li class="tsd-kind-index-signature"><span class="tsd-kind-icon">Index signature</span></li>
				<li class="tsd-kind-type-alias"><span class="tsd-kind-icon">Type alias</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-enum"><span class="tsd-kind-icon">Enumeration</span></li>
				<li class="tsd-kind-enum-member"><span class="tsd-kind-icon">Enumeration member</span></li>
				<li class="tsd-kind-property tsd-parent-kind-enum"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-enum"><span class="tsd-kind-icon">Method</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-interface"><span class="tsd-kind-icon">Interface</span></li>
				<li class="tsd-kind-interface tsd-has-type-parameter"><span class="tsd-kind-icon">Interface with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-interface"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-interface"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-class"><span class="tsd-kind-icon">Class</span></li>
				<li class="tsd-kind-class tsd-has-type-parameter"><span class="tsd-kind-icon">Class with type parameter</span></li>
				<li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class"><span class="tsd-kind-icon">Accessor</span></li>
				<li class="tsd-kind-index-signature tsd-parent-kind-class"><span class="tsd-kind-icon">Index signature</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-constructor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited constructor</span></li>
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-protected"><span class="tsd-kind-icon">Protected accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li>
				<li class="tsd-kind-method tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private method</span></li>
				<li class="tsd-kind-accessor tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private accessor</span></li>
			</ul>
			<ul class="tsd-legend">
				<li class="tsd-kind-property tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static property</span></li>
				<li class="tsd-kind-call-signature tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li>
			</ul>
		</div>
	</div>
</footer>
<div class="container tsd-generator">
	<p>Generated using <a href="http://typedoc.org/" target="_blank">TypeDoc</a></p>
</div>
<div class="overlay"></div>
<script src="assets/js/main.js"></script>
<script>if (location.protocol == 'file:') document.write('<script src="assets/js/search.js"><' + '/script>');</script>
</body>
</html>